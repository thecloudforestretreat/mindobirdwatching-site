</head>
<body>
  <div class="container">
    <div id="siteHeader"></div>
<main class="page card">
  <section class="hero" aria-label="Book a tour hero">
    <div>
      <h1>Book a Tour</h1>
      <p class="lede">
        Share your dates, group size, and goals ‚Äî we‚Äôll confirm details and follow up quickly.
      </p>
  <div class="metaCard" style="margin-top:12px;">
    <div class="chips">
      <span class="chip">üìçMindo, Ecuador</span>
      <span class="chip">Fast reply by email</span>
      <span class="chip">Private & custom options</span>
    </div>
    <p class="note">Fields marked with <span class="req">*</span> are required.</p>
  </div>

  <div class="success" id="successMsg">‚úÖ Request received ‚Äî check your email for confirmation.</div>
</div>

<aside class="metaCard" aria-label="Quick contact">
  <p class="note" style="margin:0;"><strong>Email</strong></p>
  <div class="quickRow">
    <a class="btn secondary" id="emailBtn" style="min-height:46px; display:inline-flex; align-items:center;" href="mailto:mindobirdwatching@gmail.com?subject=Book%20a%20Tour%20Request%20%E2%80%94%20Mindo%20Bird%20Watching">Email Us</a>
    <button class="iconBtn" type="button" id="copyEmailBtn" aria-label="Copy email address">
      <svg viewBox="0 0 24 24" aria-hidden="true">
        <path d="M16 1H6a2 2 0 0 0-2 2v12h2V3h10V1zm3 4H10a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h9a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2zm0 16h-9V7h9v14z"/>
      </svg>
    </button>
  </div>
  <div class="toast" id="copyToast">‚úÖ Copied: mindobirdwatching@gmail.com</div>

  <p class="note" style="margin-top:10px;"><strong>WhatsApp</strong></p>
  <a class="btn secondary" style="min-height:46px; display:inline-flex; align-items:center; justify-content:center;" href="https://wa.me/13054585402" target="_blank" rel="noopener noreferrer">Message on WhatsApp</a>
</aside>
  </section>
  <section class="section" aria-label="Book tour form">
    <div class="sectionHead">
      <h2>Request Your Tour</h2>
      <p class="note">This submits to Google Sheets + sends a confirmation email.</p>
    </div>
<div class="grid2">
  <div class="cardBox">
    <form class="form"
      method="post"
      action="https://script.google.com/macros/s/AKfycbzxu84JtF-mS5MzxywHBFVrgr3f8vWsPAKTg7wD-kyDNbZ6Gsd-6RTXtKTziNzEVYouzA/exec">

      <div class="row2">
        <label>
          <span class="labelText">First Name<span class="req">*</span></span>
          <input type="text" name="first_name" autocomplete="given-name" placeholder="First name" required />
        </label>

        <label>
          <span class="labelText">Last Name<span class="req">*</span></span>
          <input type="text" name="last_name" autocomplete="family-name" placeholder="Last name" required />
        </label>
      </div>

      <div class="row2">
        <label>
          <span class="labelText">Email<span class="req">*</span></span>
          <input type="email" name="email" autocomplete="email" placeholder="you@example.com" required />
        </label>

        <label>
          <span class="labelText">How Did You Hear About Us?</span>
          <input type="text" name="how_hear" placeholder="Google, Instagram, friend, hotel, etc." />
        </label>
      </div>

      <div class="rowPhone">
        <label>
          <span class="labelText">Country Code<span class="req">*</span></span>
          <input
            type="text"
            name="country_code"
            inputmode="numeric"
            pattern="[0-9]{1,4}"
            placeholder="1"
            value="1"
            required
          />
        </label>

        <label>
          <span class="labelText">Phone / WhatsApp Number<span class="req">*</span></span>
          <input
            type="tel"
            name="phone_number"
            autocomplete="tel"
            inputmode="tel"
            placeholder="123 456 7890"
            required
          />
        </label>
      </div>

      <label>
        <span class="labelText">Message / Questions<span class="req">*</span></span>
        <textarea name="message" placeholder="Tell us your goals: target birds, photography, pace, private guide, etc." required></textarea>
      </label>

      <div class="row2">
        <label>
          <span class="labelText">Dates of Visit</span>
          <div class="dateRange">
            <input type="date" id="dateStart" autocomplete="off" />
            <input type="date" id="dateEnd" autocomplete="off" />
          </div>
          <p class="dateHint">Select a start date and (optional) end date.</p>
          <input type="hidden" name="dates_of_visit" id="datesCombined" value="" />
        </label>

        <label>
          <span class="labelText">Number of Guests</span>
          <select name="number_of_guests">
            <option value="">Select</option>
            <option>1</option>
            <option>2</option>
            <option>3 to 4</option>
            <option>5 to 8</option>
            <option>9+</option>
          </select>
        </label>
      </div>

      <label>
        <span class="labelText">Preferred Tour Type</span>
        <select name="preferred_tour_type">
          <option value="">Select</option>
          <option>Half-Day Tour</option>
          <option>Full-Day Tour</option>
          <option>Custom / Private Tour</option>
          <option>Not Sure Yet</option>
        </select>
      </label>

      <label>
        <span class="labelText">Accommodation Needs</span>
        <input type="text" name="accommodation_needs" placeholder="Optional (hotel name, pickup notes, etc.)" />
      </label>

      <label>
        <span class="labelText">Special Interests</span>
        <input type="text" name="special_interests" placeholder="Photography, hummingbirds, tanagers, night walk, etc." />
      </label>

      <input type="hidden" name="source_page" value="https://www.mindobirdwatching.com/book-tour/" />
      <input type="hidden" name="user_agent" id="uaField" value="" />

      <p class="help">
        After you submit, you‚Äôll receive an email confirmation. If you don‚Äôt see it, check Spam/Promotions.
      </p>

      <div class="ctaActions">
        <button class="btn primary" type="submit">Send Request</button>
        <a class="btn secondary" href="/tours/">View Tours</a>
      </div>
    </form>
  </div>

  <div class="cardBox" aria-label="What we need">
    <h3 style="margin:0 0 8px; font-family:var(--font-head); color:var(--forest); letter-spacing:-0.02em;">What helps us reply faster</h3>
    <ul style="margin:0; padding-left:18px; line-height:1.7; color:var(--ink);">
      <li>Target species (if any)</li>
      <li>Photography priority vs. bird list priority</li>
      <li>Preferred pace (relaxed vs. intensive)</li>
      <li>Private guide request (yes/no)</li>
      <li>Any mobility or timing constraints</li>
    </ul>
    <p class="note" style="margin-top:10px;">
      You can keep this simple now and refine later.
    </p>
  </div>
</div>
  </section>
</main>
<div id="siteFooter"></div>
  </div>
  <script>
    (function(){
      // show success message if redirected back with ?sent=1
      try{
        var params = new URLSearchParams(window.location.search);
        if(params.get("sent") === "1"){
          var el = document.getElementById("successMsg");
          if(el) el.style.display = "block";
        }
      }catch(e){}
  // capture user agent
  var ua = document.getElementById("uaField");
  if(ua) ua.value = navigator.userAgent || "";

  // Date range -> combine into a single field the Apps Script already expects
  function combineDates(){
    var s = document.getElementById("dateStart");
    var e = document.getElementById("dateEnd");
    var out = document.getElementById("datesCombined");
    if(!out) return;

    var start = (s && s.value) ? s.value : "";
    var end = (e && e.value) ? e.value : "";

    if(start && end) out.value = start + " to " + end;
    else if(start) out.value = start;
    else out.value = "";
  }
  var ds = document.getElementById("dateStart");
  var de = document.getElementById("dateEnd");
  if(ds) ds.addEventListener("change", combineDates);
  if(de) de.addEventListener("change", combineDates);
  combineDates();

  // Copy email
  var copyBtn = document.getElementById("copyEmailBtn");
  var toast = document.getElementById("copyToast");
  var email = "mindobirdwatching@gmail.com";
  function showToast(){
    if(!toast) return;
    toast.style.display = "block";
    clearTimeout(window.__mbwCopyT);
    window.__mbwCopyT = setTimeout(function(){
      toast.style.display = "none";
    }, 1800);
  }
  if(copyBtn){
    copyBtn.addEventListener("click", async function(){
      try{
        if(navigator.clipboard && navigator.clipboard.writeText){
          await navigator.clipboard.writeText(email);
          showToast();
          return;
        }
      }catch(e){}
      try{
        var ta = document.createElement("textarea");
        ta.value = email;
        ta.setAttribute("readonly", "readonly");
        ta.style.position = "absolute";
        ta.style.left = "-9999px";
        document.body.appendChild(ta);
        ta.select();
        document.execCommand("copy");
        document.body.removeChild(ta);
        showToast();
      }catch(e){}
    });
  }

  async function inject(id, url){
    const el = document.getElementById(id);
    if(!el) return;
    const res = await fetch(url, { cache: "no-store" });
    el.innerHTML = await res.text();
  }

  Promise.all([
    inject("siteHeader", "/assets/includes/header.html"),
    inject("siteFooter", "/assets/includes/footer.html")
  ]).then(() => {
    window.dispatchEvent(new Event("mbw:includes:ready"));
  });
})();
      </script>
  <script src="/assets/js/site.js"></script>
</body>
</html>
