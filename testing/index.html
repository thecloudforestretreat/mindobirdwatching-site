<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Reservar un Tour | Mindo Bird Watching</title>
  <meta name="description" content="Reserva un tour de avistamiento de aves en üìçMindo, Ecuador. Comparte tus fechas, tama√±o de grupo y objetivos ‚Äî confirmaremos los detalles y te responderemos r√°pidamente." />
  <link rel="alternate" hreflang="en" href="/book-tour/" />
  <link rel="alternate" hreflang="es" href="/es/reservar-tour/" />
  <link rel="alternate" hreflang="x-default" href="/book-tour/" />
  <link rel="icon" href="/favicon.ico" sizes="any">
  <link rel="icon" href="/favicon.svg" type="image/svg+xml">
  <link rel="apple-touch-icon" href="/apple-touch-icon.png">
  <link rel="manifest" href="/site.webmanifest">
  <meta name="theme-color" content="#034EA2">
  <link rel="stylesheet" href="/assets/css/site.css" />
  <link rel="stylesheet" href="/assets/css/header.css" />
  <link rel="stylesheet" href="/assets/css/footer.css" />
  <script src="/assets/js/head.js" defer></script>
  <style>
    .page{ margin-top:18px; padding:26px; }
    .page.card{
      background: var(--card);
      border: 1px solid var(--line);
      border-radius: var(--r);
      box-shadow: var(--shadow);
    }
.hero{
  display:grid;
  grid-template-columns: 1.05fr .95fr;
  gap: 16px;
  align-items:start;
}

h1{
  margin:0 0 10px;
  letter-spacing:-0.02em;
}

.lede{
  margin:0;
  max-width: 92ch;
  color: var(--ink);
  line-height: 1.65;
}

.metaCard{
  border: 1px solid var(--line);
  border-radius: var(--r);
  background: rgba(255,255,255,.65);
  box-shadow: var(--shadow);
  padding: 14px;
  display:grid;
  gap: 10px;
}

.chips{
  display:flex;
  flex-wrap: wrap;
  gap: 8px;
  align-items:center;
}

.chip{
  display:inline-flex;
  align-items:center;
  padding: 7px 10px;
  border-radius: 999px;
  border: 1px solid var(--line);
  background: rgba(255,255,255,.55);
  font-weight: 900;
  color: var(--ink);
  font-size: 12.5px;
  line-height: 1;
  white-space: nowrap;
}

.note{
  margin:0;
  color: var(--muted);
  font-size: 13px;
  line-height: 1.55;
}

.section{
  margin-top: 18px;
  padding-top: 14px;
  border-top: 1px solid var(--line);
}

.sectionHead{
  display:flex;
  align-items:flex-end;
  justify-content:space-between;
  gap: 12px;
  flex-wrap: wrap;
  margin-bottom: 10px;
}

.sectionHead h2{
  margin:0;
  font-family: var(--font-head);
  color: var(--forest);
  letter-spacing:-0.02em;
  font-size: 20px;
}

.grid2{
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap: 12px;
  align-items:start;
}

.cardBox{
  border: 1px solid var(--line);
  border-radius: var(--r);
  background: rgba(255,255,255,.65);
  box-shadow: var(--shadow);
  padding: 14px;
}

.form{
  display:grid;
  gap: 10px;
  margin-top: 10px;
}

.row2{
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap: 10px;
  align-items:start;
}

.rowPhone{
  display:grid;
  grid-template-columns: 120px 1fr;
  gap: 10px;
  align-items:end;
}

label{
  display:grid;
  gap: 6px;
  font-weight: 900;
  font-size: 13px;
  color: var(--ink);
  min-width: 0; /* prevent grid overflow on mobile */
}

.labelText{
  display:inline-flex;
  align-items:baseline;
  gap: 2px;
  line-height: 1.1;
}

.req{
  color: rgba(160,0,0,.85);
  font-weight: 950;
  margin-left: 0;
}

input, select, textarea{
  width: 100%;
  border-radius: 14px;
  border: 1px solid var(--line);
  background: rgba(255,255,255,.70);
  box-shadow: 0 10px 25px rgba(0,0,0,.06);
  padding: 12px 12px;
  font: inherit;
  color: var(--ink);
  outline: none;
  box-sizing: border-box;
  min-width: 0; /* key for date inputs on mobile */
}

/* Keep ALL ‚Äúbubbles‚Äù the same height */
input, select{
  height: 46px;
  line-height: 46px;
  padding-top: 0;
  padding-bottom: 0;
}

textarea{
  min-height: 120px;
  resize: vertical;
  padding: 12px 12px;
  line-height: 1.5;
  height: auto;
}

.help{
  margin: 0;
  color: var(--muted);
  font-size: 12.5px;
  line-height: 1.5;
}

.success{
  display:none;
  padding: 12px 14px;
  border-radius: 14px;
  border: 1px solid rgba(13,89,37,.25);
  background: rgba(13,89,37,.10);
  color: var(--ink);
  font-weight: 900;
}

.quickRow{
  display:flex;
  gap: 10px;
  align-items:center;
  flex-wrap: wrap;
}

.iconBtn{
  width: 46px;
  height: 46px;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  border-radius: 14px;
  border: 1px solid var(--line);
  background: rgba(255,255,255,.55);
  box-shadow: var(--shadow);
  cursor: pointer;
  padding: 0;
}
.iconBtn svg{ width: 18px; height: 18px; fill: var(--ink); opacity: .9; }

.toast{
  display:none;
  margin-top: 8px;
  padding: 10px 12px;
  border-radius: 14px;
  border: 1px solid rgba(3,78,162,.22);
  background: rgba(3,78,162,.10);
  color: var(--ink);
  font-weight: 900;
  font-size: 12.5px;
  line-height: 1.35;
}

.dateRange{
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap: 10px;
  align-items:start;
  width: 100%;
  min-width: 0;
}
.dateRange > input{ min-width: 0; } /* ensures perfect alignment with other bubbles */

.dateHint{
  margin: 0;
  color: var(--muted);
  font-size: 12.5px;
  line-height: 1.5;
}

/* FIX: keep ‚ÄúN√∫mero de personas‚Äù aligned with Fechas (top aligned) */
.row2 > label{ align-content:start; }
.row2 > label select{ margin-top: 0; }

.ctaActions{
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap: 10px;
  margin-top: 12px;
  align-items: stretch;
}

.ctaActions .btn,
.ctaActions button.btn{
  width: 100%;
  justify-content: center;
  font-size: 14px;
  line-height: 1;
  padding-top: 14px;
  padding-bottom: 14px;
  min-height: 46px;
}

@media (max-width: 980px){
  .hero{ grid-template-columns: 1fr; }
  .grid2{ grid-template-columns: 1fr; }
  .row2{ grid-template-columns: 1fr; }
  .rowPhone{ grid-template-columns: 120px 1fr; }
  .ctaActions{ grid-template-columns: 1fr; }
  .dateRange{ grid-template-columns: 1fr; }
}
      </style>
</head>
<body>
  <div class="container">
    <div id="siteHeader"></div>
<main class="page card">
  <section class="hero" aria-label="Reservar un tour hero">
    <div>
      <h1>Reservar un Tour</h1>
      <p class="lede">
        Comparte tus fechas, tama√±o de grupo y objetivos ‚Äî confirmaremos los detalles y te responderemos r√°pidamente.
      </p>

      <div class="metaCard" style="margin-top:12px;">
        <div class="chips">
          <span class="chip">üìçMindo, Ecuador</span>
          <span class="chip">Respuesta r√°pida por email</span>
          <span class="chip">Opciones privadas y personalizadas</span>
        </div>
        <p class="note">Los campos marcados con <span class="req">*</span> son obligatorios.</p>
      </div>

      <div class="success" id="successMsg">‚úÖ Solicitud recibida ‚Äî revisa tu email para la confirmaci√≥n.</div>
    </div>

    <aside class="metaCard" aria-label="Contacto r√°pido">
      <p class="note" style="margin:0;"><strong>Email</strong></p>
      <div class="quickRow">
        <a class="btn secondary" id="emailBtn" style="min-height:46px; display:inline-flex; align-items:center;" href="mailto:mindobirdwatching@gmail.com?subject=Solicitud%20de%20Tour%20%E2%80%94%20Mindo%20Bird%20Watching">Escr√≠benos</a>
        <button class="iconBtn" type="button" id="copyEmailBtn" aria-label="Copiar email">
          <svg viewBox="0 0 24 24" aria-hidden="true">
            <path d="M16 1H6a2 2 0 0 0-2 2v12h2V3h10V1zm3 4H10a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h9a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2zm0 16h-9V7h9v14z"/>
          </svg>
        </button>
      </div>
      <div class="toast" id="copyToast">‚úÖ Copiado: mindobirdwatching@gmail.com</div>

      <p class="note" style="margin-top:10px;"><strong>WhatsApp</strong></p>
      <a class="btn secondary" style="min-height:46px; display:inline-flex; align-items:center; justify-content:center;" href="https://wa.me/13054585402" target="_blank" rel="noopener noreferrer">Enviar mensaje por WhatsApp</a>
    </aside>
  </section>

  <section class="section" aria-label="Formulario de reserva">
    <div class="sectionHead">
      <h2>Solicita tu Tour</h2>
      <p class="note">Esto se env√≠a a Google Sheets y te manda un email de confirmaci√≥n.</p>
    </div>

    <div class="grid2">
      <div class="cardBox">
        <form class="form"
          method="post"
          action="https://script.google.com/macros/s/AKfycbzxu84JtF-mS5MzxywHBFVrgr3f8vWsPAKTg7wD-kyDNbZ6Gsd-6RTXtKTziNzEVYouzA/exec">

          <div class="row2">
            <label>
              <span class="labelText">Nombre<span class="req">*</span></span>
              <input type="text" name="first_name" autocomplete="given-name" placeholder="Nombre" required />
            </label>

            <label>
              <span class="labelText">Apellido<span class="req">*</span></span>
              <input type="text" name="last_name" autocomplete="family-name" placeholder="Apellido" required />
            </label>
          </div>

          <div class="row2">
            <label>
              <span class="labelText">Email<span class="req">*</span></span>
              <input type="email" name="email" autocomplete="email" placeholder="tu@email.com" required />
            </label>

            <label>
              <span class="labelText">¬øC√≥mo te enteraste de nosotros?</span>
              <input type="text" name="how_hear" placeholder="Google, Instagram, recomendado, hotel, etc." />
            </label>
          </div>

          <div class="rowPhone">
            <label>
              <span class="labelText">C√≥digo de pa√≠s<span class="req">*</span></span>
              <input
                type="text"
                name="country_code"
                inputmode="numeric"
                pattern="[0-9]{1,4}"
                placeholder="1"
                value="1"
                required
              />
            </label>

            <label>
              <span class="labelText">Tel√©fono / WhatsApp<span class="req">*</span></span>
              <input
                type="tel"
                name="phone_number"
                autocomplete="tel"
                inputmode="tel"
                placeholder="123 456 7890"
                required
              />
            </label>
          </div>

          <label>
            <span class="labelText">Mensaje / Preguntas<span class="req">*</span></span>
            <textarea name="message" placeholder="Cu√©ntanos tus objetivos: aves objetivo, fotograf√≠a, ritmo, gu√≠a privado, etc." required></textarea>
          </label>

          <div class="row2">
            <label>
              <span class="labelText">Fechas de visita</span>
              <div class="dateRange">
                <input type="date" id="dateStart" autocomplete="off" />
                <input type="date" id="dateEnd" autocomplete="off" />
              </div>
              <p class="dateHint">Selecciona una fecha de inicio y (opcional) una fecha de fin.</p>
              <input type="hidden" name="dates_of_visit" id="datesCombined" value="" />
            </label>

            <label>
              <span class="labelText">N√∫mero de personas</span>
              <select name="number_of_guests">
                <option value="">Seleccionar</option>
                <option>1</option>
                <option>2</option>
                <option>3 a 4</option>
                <option>5 a 8</option>
                <option>9+</option>
              </select>
            </label>
          </div>

          <label>
            <span class="labelText">Tipo de tour preferido</span>
            <select name="preferred_tour_type">
              <option value="">Seleccionar</option>
              <option>Tour de medio d√≠a</option>
              <option>Tour de d√≠a completo</option>
              <option>Tour personalizado / privado</option>
              <option>A√∫n no estoy seguro</option>
            </select>
          </label>

          <label>
            <span class="labelText">Necesidades de alojamiento</span>
            <input type="text" name="accommodation_needs" placeholder="Opcional (hotel, notas de pickup, etc.)" />
          </label>

          <label>
            <span class="labelText">Intereses especiales</span>
            <input type="text" name="special_interests" placeholder="Fotograf√≠a, colibr√≠es, tangaras, caminata nocturna, etc." />
          </label>

          <input type="hidden" name="source_page" value="https://www.mindobirdwatching.com/es/reservar-tour/" />
          <input type="hidden" name="user_agent" id="uaField" value="" />

          <p class="help">
            Despu√©s de enviar, recibir√°s un email de confirmaci√≥n. Si no lo ves, revisa Spam/Promociones.
          </p>

          <div class="ctaActions">
            <button class="btn primary" type="submit">Enviar solicitud</button>
            <a class="btn secondary" href="/es/tours/">Ver tours</a>
          </div>
        </form>
      </div>

      <div class="cardBox" aria-label="Qu√© nos ayuda a responder">
        <h3 style="margin:0 0 8px; font-family:var(--font-head); color:var(--forest); letter-spacing:-0.02em;">Lo que nos ayuda a responder m√°s r√°pido</h3>
        <ul style="margin:0; padding-left:18px; line-height:1.7; color:var(--ink);">
          <li>Especies objetivo (si tienes alguna)</li>
          <li>Prioridad: fotograf√≠a vs. lista de aves</li>
          <li>Ritmo preferido (relajado vs. intensivo)</li>
          <li>Solicitud de gu√≠a privado (s√≠/no)</li>
          <li>Restricciones de movilidad u horarios</li>
        </ul>
        <p class="note" style="margin-top:10px;">
          Puedes mantenerlo simple ahora y afinarlo despu√©s.
        </p>
      </div>
    </div>
  </section>
</main>

<div id="siteFooter"></div>
  </div>
  <script>
    (function(){
      try{
        var params = new URLSearchParams(window.location.search);
        if(params.get("sent") === "1"){
          var el = document.getElementById("successMsg");
          if(el) el.style.display = "block";
        }
      }catch(e){}

      var ua = document.getElementById("uaField");
      if(ua) ua.value = navigator.userAgent || "";

      function combineDates(){
        var s = document.getElementById("dateStart");
        var e = document.getElementById("dateEnd");
        var out = document.getElementById("datesCombined");
        if(!out) return;

        var start = (s && s.value) ? s.value : "";
        var end = (e && e.value) ? e.value : "";

        if(start && end) out.value = start + " to " + end;
        else if(start) out.value = start;
        else out.value = "";
      }
      var ds = document.getElementById("dateStart");
      var de = document.getElementById("dateEnd");
      if(ds) ds.addEventListener("change", combineDates);
      if(de) de.addEventListener("change", combineDates);
      combineDates();

      var copyBtn = document.getElementById("copyEmailBtn");
      var toast = document.getElementById("copyToast");
      var email = "mindobirdwatching@gmail.com";
      function showToast(){
        if(!toast) return;
        toast.style.display = "block";
        clearTimeout(window.__mbwCopyT);
        window.__mbwCopyT = setTimeout(function(){
          toast.style.display = "none";
        }, 1800);
      }
      if(copyBtn){
        copyBtn.addEventListener("click", async function(){
          try{
            if(navigator.clipboard && navigator.clipboard.writeText){
              await navigator.clipboard.writeText(email);
              showToast();
              return;
            }
          }catch(e){}
          try{
            var ta = document.createElement("textarea");
            ta.value = email;
            ta.setAttribute("readonly", "readonly");
            ta.style.position = "absolute";
            ta.style.left = "-9999px";
            document.body.appendChild(ta);
            ta.select();
            document.execCommand("copy");
            document.body.removeChild(ta);
            showToast();
          }catch(e){}
        });
      }

      async function inject(id, url){
        const el = document.getElementById(id);
        if(!el) return;
        const res = await fetch(url, { cache: "no-store" });
        el.innerHTML = await res.text();
      }

      Promise.all([
        inject("siteHeader", "/assets/includes/header.html"),
        inject("siteFooter", "/assets/includes/footer.html")
      ]).then(() => {
        window.dispatchEvent(new Event("mbw:includes:ready"));
      });
    })();
  </script>
  <script src="/assets/js/site.js"></script>
</body>
</html>
