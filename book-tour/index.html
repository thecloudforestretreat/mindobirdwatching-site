<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Book A Tour | Mindo Bird Watching</title>
  <meta name="description" content="Book a birdwatching tour in üìçMindo, Ecuador. Send your dates, group size, and goals ‚Äî we‚Äôll confirm details and follow up quickly." />
  <link rel="alternate" hreflang="en" href="/book-tour/" />
  <link rel="alternate" hreflang="es" href="/es/reservar-tour/" />
  <link rel="alternate" hreflang="x-default" href="/book-tour/" />
  <link rel="icon" href="/favicon.ico" sizes="any">
  <link rel="icon" href="/favicon.svg" type="image/svg+xml">
  <link rel="apple-touch-icon" href="/apple-touch-icon.png">
  <link rel="manifest" href="/site.webmanifest">
  <meta name="theme-color" content="#034EA2">
  <link rel="stylesheet" href="/assets/css/site.css" />
  <link rel="stylesheet" href="/assets/css/header.css" />
  <link rel="stylesheet" href="/assets/css/footer.css" />
  <script src="/assets/js/head.js" defer></script>
  <style>
    .page{ margin-top:18px; padding:26px; }
    .page.card{
      background: var(--card);
      border: 1px solid var(--line);
      border-radius: var(--r);
      box-shadow: var(--shadow);
    }
.hero{
  display:grid;
  grid-template-columns: 1.05fr .95fr;
  gap: 16px;
  align-items:start;
}

h1{ margin:0 0 10px; letter-spacing:-0.02em; }

.lede{
  margin:0;
  max-width: 92ch;
  color: var(--ink);
  line-height: 1.65;
}

.metaCard{
  border: 1px solid var(--line);
  border-radius: var(--r);
  background: rgba(255,255,255,.65);
  box-shadow: var(--shadow);
  padding: 14px;
  display:grid;
  gap: 10px;
}

.chips{
  display:flex;
  flex-wrap: wrap;
  gap: 8px;
  align-items:center;
}

.chip{
  display:inline-flex;
  align-items:center;
  padding: 7px 10px;
  border-radius: 999px;
  border: 1px solid var(--line);
  background: rgba(255,255,255,.55);
  font-weight: 900;
  color: var(--ink);
  font-size: 12.5px;
  line-height: 1;
  white-space: nowrap;
}

.note{
  margin:0;
  color: var(--muted);
  font-size: 13px;
  line-height: 1.55;
}

.section{
  margin-top: 18px;
  padding-top: 14px;
  border-top: 1px solid var(--line);
}

.sectionHead{
  display:flex;
  align-items:flex-end;
  justify-content:space-between;
  gap: 12px;
  flex-wrap: wrap;
  margin-bottom: 10px;
}

.sectionHead h2{
  margin:0;
  font-family: var(--font-head);
  color: var(--forest);
  letter-spacing:-0.02em;
  font-size: 20px;
}

.grid2{
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap: 12px;
  align-items:start;
}

.cardBox{
  border: 1px solid var(--line);
  border-radius: var(--r);
  background: rgba(255,255,255,.65);
  box-shadow: var(--shadow);
  padding: 14px;
}

.form{
  display:grid;
  gap: 10px;
  margin-top: 10px;
}

.row2{
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap: 10px;
  align-items:start;
}

.rowPhone{
  display:grid;
  grid-template-columns: 120px 1fr;
  gap: 10px;
  align-items:end;
}

label{
  display:grid;
  gap: 6px;
  font-weight: 900;
  font-size: 13px;
  color: var(--ink);
  min-width: 0;
  width: 100%;
}

.labelText{
  display:inline-flex;
  align-items:baseline;
  gap: 2px;
  line-height: 1.1;
}

.req{
  color: rgba(160,0,0,.85);
  font-weight: 950;
  margin-left: 0;
}

input, select, textarea{
  width: 100%;
  max-width: 100%;
  border-radius: 14px;
  border: 1px solid var(--line);
  background: rgba(255,255,255,.70);
  box-shadow: 0 10px 25px rgba(0,0,0,.06);
  padding: 12px 12px;
  font: inherit;
  color: var(--ink);
  outline: none;
  box-sizing: border-box;
  min-width: 0;
  display: block;
}

input, select{
  height: 46px;
  line-height: 46px;
  padding-top: 0;
  padding-bottom: 0;
}

textarea{
  min-height: 120px;
  resize: vertical;
  padding: 12px 12px;
  line-height: 1.5;
  height: auto;
}

.help{
  margin: 0;
  color: var(--muted);
  font-size: 12.5px;
  line-height: 1.5;
}

.success{
  display:none;
  padding: 12px 14px;
  border-radius: 14px;
  border: 1px solid rgba(13,89,37,.25);
  background: rgba(13,89,37,.10);
  color: var(--ink);
  font-weight: 900;
  margin-top: 10px;
}

.errorMsg{
  display:none;
  padding: 12px 14px;
  border-radius: 14px;
  border: 1px solid rgba(160,0,0,.22);
  background: rgba(160,0,0,.08);
  color: var(--ink);
  font-weight: 900;
  margin-top: 10px;
  font-size: 12.5px;
  line-height: 1.35;
}

.quickRow{
  display:flex;
  gap: 10px;
  align-items:center;
  flex-wrap: wrap;
}

.iconBtn{
  width: 46px;
  height: 46px;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  border-radius: 14px;
  border: 1px solid var(--line);
  background: rgba(255,255,255,.55);
  box-shadow: var(--shadow);
  cursor: pointer;
  padding: 0;
}
.iconBtn svg{ width: 18px; height: 18px; fill: var(--ink); opacity: .9; }

.toast{
  display:none;
  margin-top: 8px;
  padding: 10px 12px;
  border-radius: 14px;
  border: 1px solid rgba(3,78,162,.22);
  background: rgba(3,78,162,.10);
  color: var(--ink);
  font-weight: 900;
  font-size: 12.5px;
  line-height: 1.35;
}

.rowDatesGuests{
  grid-template-columns: minmax(0, 1fr) 132px;
  align-items:start;
  column-gap: 10px;
}
.rowDatesGuests > label{ min-width: 0; }

.rowDatesGuests .guestsLabel{
  width: 100%;
  min-width: 0;
  justify-self: end;
  align-content: start;
}
.rowDatesGuests .guestsLabel .labelText{ white-space: nowrap; }
.rowDatesGuests .guestsLabel select{
  width: 100%;
  min-width: 0;
  padding-left: 12px;
  padding-right: 34px;
}

.dateRange{
  display:grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: 10px;
  align-items:start;
  width: 100%;
  min-width: 0;
  max-width: 100%;
}
.dateRange, .dateRange *{ max-width: 100%; }

.dateRange > input{
  width: 100%;
  min-width: 176px;
  min-inline-size: 0;
}

input[type="date"]{
  width: 100%;
  max-width: 100%;
  min-inline-size: 0;
  display: block;
  box-sizing: border-box;
  -webkit-appearance: none;
  appearance: none;
  background-clip: padding-box;
  padding-right: 32px;
}

@media (max-width: 1180px) and (min-width: 981px){
  .rowDatesGuests{ grid-template-columns: minmax(0, 1fr) 132px; }
  .dateRange > input{ min-width: 156px; }
}

.dateHint{
  margin: 0;
  color: var(--muted);
  font-size: 12.5px;
  line-height: 1.5;
}

.row2 > label{ align-content:start; }
.row2 > label select{ margin-top: 0; }

.ctaActions{
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap: 10px;
  margin-top: 12px;
  align-items: stretch;
}

.ctaActions .btn,
.ctaActions button.btn{
  width: 100%;
  justify-content: center;
  font-size: 14px;
  font-weight: 900;
  line-height: 1;
  padding-top: 14px;
  padding-bottom: 14px;
  min-height: 46px;
}

.btn[disabled]{
  opacity: .65;
  cursor: not-allowed;
  transform: none !important;
}

@media (max-width: 980px){
  .hero{ grid-template-columns: 1fr; }
  .grid2{ grid-template-columns: 1fr; }
  .row2{ grid-template-columns: 1fr; }
  .rowDatesGuests{ grid-template-columns: 1fr; }
  .rowPhone{ grid-template-columns: 120px 1fr; }
  .ctaActions{ grid-template-columns: 1fr; }
  .dateRange{ grid-template-columns: 1fr; }
  .dateRange > input{ min-width: 0; }
  .rowDatesGuests .guestsLabel{
    width: 100%;
    justify-self: stretch;
  }
  .rowDatesGuests .guestsLabel select{
    width: 100%;
    min-width: 0;
  }
  .rowDatesGuests .guestsLabel .labelText{ white-space: normal; }
}
      </style>
</head>
<body>
  <div class="container">
    <div id="siteHeader"></div>
<main class="page card">
  <section class="hero" aria-label="Book a tour hero">
    <div>
      <h1>Book A Tour</h1>
      <p class="lede">
        Share your dates, group size, and goals ‚Äî we‚Äôll confirm details and follow up quickly.
      </p>

      <div class="metaCard" style="margin-top:12px;">
        <div class="chips">
          <span class="chip">üìçMindo, Ecuador</span>
          <span class="chip">Fast reply by email</span>
          <span class="chip">Private &amp; custom options</span>
        </div>
        <p class="note">Fields marked with <span class="req">*</span> are required.</p>
      </div>
    </div>

    <aside class="metaCard" aria-label="Quick contact">
      <p class="note" style="margin:0;"><strong>Email</strong></p>
      <div class="quickRow">
        <a class="btn secondary" id="emailBtn" style="min-height:46px; display:inline-flex; align-items:center;" href="mailto:mindobirdwatching@gmail.com?subject=Book%20a%20Tour%20Request%20%E2%80%94%20Mindo%20Bird%20Watching">Email Us</a>
        <button class="iconBtn" type="button" id="copyEmailBtn" aria-label="Copy email address">
          <svg viewBox="0 0 24 24" aria-hidden="true">
            <path d="M16 1H6a2 2 0 0 0-2 2v12h2V3h10V1zm3 4H10a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h9a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2zm0 16h-9V7h9v14z"/>
          </svg>
        </button>
      </div>
      <div class="toast" id="copyToast">‚úÖ Copied: mindobirdwatching@gmail.com</div>

      <p class="note" style="margin-top:10px;"><strong>WhatsApp</strong></p>
      <a class="btn secondary" style="min-height:46px; display:inline-flex; align-items:center; justify-content:center;" href="https://wa.me/13054585402" target="_blank" rel="noopener noreferrer">Message on WhatsApp</a>
    </aside>
  </section>

  <section class="section" aria-label="Book tour form">
    <div class="sectionHead">
      <h2>Request Your Tour</h2>
      <p class="note">See you soon!</p>
    </div>

    <div class="grid2">
      <div class="cardBox">
        <iframe name="mbwHiddenFrame" id="mbwHiddenFrame" style="position:absolute; left:-9999px; width:1px; height:1px; border:0;" aria-hidden="true" tabindex="-1"></iframe>

        <form class="form" id="bookTourForm"
          method="post"
          target="mbwHiddenFrame"
          action="https://script.google.com/macros/s/AKfycbzxu84JtF-mS5MzxywHBFVrgr3f8vWsPAKTg7wD-kyDNbZ6Gsd-6RTXtKTziNzEVYouzA/exec">

          <div class="row2">
            <label>
              <span class="labelText">First Name<span class="req">*</span></span>
              <input
                type="text"
                name="first_name"
                id="firstName"
                autocomplete="given-name"
                autocapitalize="words"
                autocorrect="off"
                spellcheck="false"
                placeholder="First name"
                required
              />
            </label>

            <label>
              <span class="labelText">Last Name<span class="req">*</span></span>
              <input
                type="text"
                name="last_name"
                id="lastName"
                autocomplete="family-name"
                autocapitalize="words"
                autocorrect="off"
                spellcheck="false"
                placeholder="Last name"
                required
              />
            </label>
          </div>

          <div class="row2">
            <label>
              <span class="labelText">Email<span class="req">*</span></span>
              <input type="email" name="email" autocomplete="email" placeholder="you@example.com" required />
            </label>

            <label>
              <span class="labelText">How Did You Hear About Us?</span>
              <input type="text" name="how_hear" placeholder="Google, Instagram, friend, hotel, etc." />
            </label>
          </div>

          <div class="rowPhone">
            <label>
              <span class="labelText">Country Code<span class="req">*</span></span>
              <input
                type="text"
                name="country_code"
                inputmode="numeric"
                pattern="[0-9]{1,4}"
                placeholder="1"
                value="1"
                required
              />
            </label>

            <label>
              <span class="labelText">Phone / WhatsApp Number<span class="req">*</span></span>
              <input
                type="tel"
                name="phone_number"
                autocomplete="tel"
                inputmode="tel"
                placeholder="123 456 7890"
                required
              />
            </label>
          </div>

          <label>
            <span class="labelText">Message / Questions<span class="req">*</span></span>
            <textarea name="message" placeholder="Tell us your goals: target birds, photography, pace, private guide, etc." required></textarea>
          </label>

          <div class="row2 rowDatesGuests">
            <label>
              <span class="labelText">Dates of Visit</span>
              <div class="dateRange">
                <input type="date" id="dateStart" autocomplete="off" />
                <input type="date" id="dateEnd" autocomplete="off" />
              </div>
              <p class="dateHint">Select a start date and (optional) end date.</p>
              <input type="hidden" name="dates_of_visit" id="datesCombined" value="" />
            </label>

            <label class="guestsLabel">
              <span class="labelText">Number of Guests</span>
              <select name="number_of_guests">
                <option value="">Select</option>
                <option>1</option>
                <option>2</option>
                <option>3 to 4</option>
                <option>5 to 8</option>
                <option>9+</option>
              </select>
            </label>
          </div>

          <label>
            <span class="labelText">Preferred Tour Type</span>
            <select name="preferred_tour_type">
              <option value="">Select</option>
              <option>Half-Day Tour</option>
              <option>Full-Day Tour</option>
              <option>Custom / Private Tour</option>
              <option>Not Sure Yet</option>
            </select>
          </label>

          <label>
            <span class="labelText">Accommodation Needs</span>
            <input type="text" name="accommodation_needs" placeholder="Optional (hotel name, pickup notes, etc.)" />
          </label>

          <label>
            <span class="labelText">Special Interests</span>
            <input type="text" name="special_interests" placeholder="Photography, hummingbirds, tanagers, night walk, etc." />
          </label>

          <input type="hidden" name="source_page" value="https://www.mindobirdwatching.com/book-tour/" />
          <input type="hidden" name="user_agent" id="uaField" value="" />

          <p class="help">
            After you submit, you‚Äôll receive an email confirmation. If you don‚Äôt see it, check Spam/Promotions.
          </p>

          <div class="ctaActions">
            <button class="btn primary" id="submitBtn" type="submit">Send Request</button>
            <a class="btn secondary" href="/tours/">View Tours</a>
          </div>

          <div class="success" id="formSuccessMsg">‚úÖ Your message has been sent ‚Äî we‚Äôll email you a confirmation shortly.</div>
          <div class="errorMsg" id="formErrorMsg">‚ö†Ô∏è Something went wrong. Please try again, or email us directly at mindobirdwatching@gmail.com.</div>
        </form>
      </div>

      <div class="cardBox" aria-label="What we need">
        <h3 style="margin:0 0 8px; font-family:var(--font-head); color:var(--forest); letter-spacing:-0.02em;">What helps us reply faster</h3>
        <ul style="margin:0; padding-left:18px; line-height:1.7; color:var(--ink);">
          <li>Target species (if any)</li>
          <li>Photography priority vs. bird list priority</li>
          <li>Preferred pace (relaxed vs. intensive)</li>
          <li>Private guide request (yes/no)</li>
          <li>Any mobility or timing constraints</li>
        </ul>
        <p class="note" style="margin-top:10px;">
          You can keep this simple now and refine later.
        </p>
      </div>
    </div>
  </section>
</main>

<div id="siteFooter"></div>
      </div>
  <script>
    (function(){
      var ua = document.getElementById("uaField");
      if(ua) ua.value = navigator.userAgent || "";

      function titleCaseWords(str){
        return String(str || "")
          .trim()
          .replace(/\s+/g, " ")
          .split(" ")
          .map(function(w){
            if(!w) return "";
            var lower = w.toLowerCase();
            return lower.charAt(0).toUpperCase() + lower.slice(1);
          })
          .join(" ");
      }

      function attachNameAutoCap(id){
        var el = document.getElementById(id);
        if(!el) return;
        el.addEventListener("blur", function(){
          el.value = titleCaseWords(el.value);
        });
      }
      attachNameAutoCap("firstName");
      attachNameAutoCap("lastName");

      function combineDates(){
        var s = document.getElementById("dateStart");
        var e = document.getElementById("dateEnd");
        var out = document.getElementById("datesCombined");
        if(!out) return;

        var start = (s && s.value) ? s.value : "";
        var end = (e && e.value) ? e.value : "";

        if(start && end) out.value = start + " to " + end;
        else if(start) out.value = start;
        else out.value = "";
      }
      var ds = document.getElementById("dateStart");
      var de = document.getElementById("dateEnd");
      if(ds) ds.addEventListener("change", combineDates);
      if(de) de.addEventListener("change", combineDates);
      combineDates();

      var copyBtn = document.getElementById("copyEmailBtn");
      var toast = document.getElementById("copyToast");
      var email = "mindobirdwatching@gmail.com";
      function showToast(){
        if(!toast) return;
        toast.style.display = "block";
        clearTimeout(window.__mbwCopyT);
        window.__mbwCopyT = setTimeout(function(){
          toast.style.display = "none";
        }, 1800);
      }
      if(copyBtn){
        copyBtn.addEventListener("click", async function(){
          try{
            if(navigator.clipboard && navigator.clipboard.writeText){
              await navigator.clipboard.writeText(email);
              showToast();
              return;
            }
          }catch(e){}
          try{
            var ta = document.createElement("textarea");
            ta.value = email;
            ta.setAttribute("readonly", "readonly");
            ta.style.position = "absolute";
            ta.style.left = "-9999px";
            document.body.appendChild(ta);
            ta.select();
            document.execCommand("copy");
            document.body.removeChild(ta);
            showToast();
          }catch(e){}
        });
      }

      var form = document.getElementById("bookTourForm");
      var successEl = document.getElementById("formSuccessMsg");
      var errorEl = document.getElementById("formErrorMsg");
      var submitBtn = document.getElementById("submitBtn");
      var iframe = document.getElementById("mbwHiddenFrame");

      var pending = false;
      var done = false;
      var fallbackTimer = null;

      function hideMsgs(){
        if(successEl) successEl.style.display = "none";
        if(errorEl) errorEl.style.display = "none";
      }

      function setBtnSending(isSending){
        if(!submitBtn) return;
        if(isSending){
          submitBtn.set_translation_disabled = true;
          submitBtn.setAttribute("disabled", "disabled");
          submitBtn.textContent = "Sending...";
        }else{
          submitBtn.removeAttribute("disabled");
          submitBtn.textContent = "Send Request";
        }
      }

      function completeOk(){
        if(done) return;
        done = true;
        pending = false;
        if(fallbackTimer) clearTimeout(fallbackTimer);
        setBtnSending(false);
        if(successEl) successEl.style.display = "block";
        if(errorEl) errorEl.style.display = "none";
        try{
          form.reset();
          if(ds) ds.value = "";
          if(de) de.value = "";
          combineDates();
        }catch(e){}
      }

      function completeError(msg){
        if(done) return;
        done = true;
        pending = false;
        if(fallbackTimer) clearTimeout(fallbackTimer);
        setBtnSending(false);
        if(errorEl){
          errorEl.textContent = msg || "‚ö†Ô∏è Something went wrong. Please try again, or email us directly at mindobirdwatching@gmail.com.";
          errorEl.style.display = "block";
        }
        if(successEl) successEl.style.display = "none";
      }

      hideMsgs();

      if(form){
        form.addEventListener("submit", function(){
          hideMsgs();
          done = false;
          pending = true;
          setBtnSending(true);

          if(fallbackTimer) clearTimeout(fallbackTimer);
          fallbackTimer = setTimeout(function(){
            if(!done){
              completeError("‚ö†Ô∏è Still waiting‚Ä¶ please try again, or email us directly at mindobirdwatching@gmail.com.");
            }
          }, 12000);
        });
      }

      // ‚úÖ Fallback that fixes ‚Äústuck on sending‚Äù even if Apps Script postMessage never arrives:
      // When the hidden iframe finishes loading the response, we mark the submission as complete.
      if(iframe){
        iframe.addEventListener("load", function(){
          if(pending && !done){
            completeOk();
          }
        });
      }

      // If your Apps Script *does* send postMessage, we still support it (more accurate).
      window.addEventListener("message", function(ev){
        var data = ev && ev.data ? ev.data : null;
        if(!data || data.type !== "mbw-booktour") return;

        if(data.status === "ok"){
          completeOk();
          return;
        }
        completeError(data.message ? ("‚ö†Ô∏è " + data.message) : null);
      });

      async function inject(id, url){
        const el = document.getElementById(id);
        if(!el) return;
        const res = await fetch(url, { cache: "no-store" });
        el.innerHTML = await res.text();
      }

      Promise.all([
        inject("siteHeader", "/assets/includes/header.html"),
        inject("siteFooter", "/assets/includes/footer.html")
      ]).then(() => {
        window.dispatchEvent(new Event("mbw:includes:ready"));
      });
    })();
  </script>
  <script src="/assets/js/site.js"></script>
</body>
</html>

    
