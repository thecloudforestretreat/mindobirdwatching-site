<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<title>Book a Tour | Mindo Bird Watching</title>
<meta content="Request a birdwatching tour in Mindo, Ecuador. Share dates, group size, and goals, and we will confirm details and follow up quickly by email or WhatsApp." name="description"/>
<link href="https://mindobirdwatching.com/book-tour/" rel="canonical"/>
<link href="/book-tour/" hreflang="en" rel="alternate"/>
<link href="/es/reservar-tour/" hreflang="es" rel="alternate"/>
<link href="/book-tour/" hreflang="x-default" rel="alternate"/>
<meta content="website" property="og:type"/>
<meta content="Mindo Bird Watching" property="og:site_name"/>
<meta content="Book a Tour | Mindo Bird Watching" property="og:title"/>
<meta content="Request a birdwatching tour in Mindo, Ecuador. Share dates, group size, and goals, and we will confirm details and follow up quickly by email or WhatsApp." property="og:description"/>
<meta content="https://mindobirdwatching.com/book-tour/" property="og:url"/>
<meta content="https://mindobirdwatching.com/MBW-Assets-OG-Image.jpg" property="og:image"/>
<meta content="https://mindobirdwatching.com/MBW-Assets-OG-Image.jpg" property="og:image:secure_url"/>
<meta content="1200" property="og:image:width"/>
<meta content="630" property="og:image:height"/>
<meta content="Mindo Bird Watching - Cloud forest birding tours in Ecuador" property="og:image:alt"/>
<meta content="summary_large_image" name="twitter:card"/>
<meta content="Book a Tour | Mindo Bird Watching" name="twitter:title"/>
<meta content="Request a birdwatching tour in Mindo, Ecuador. Share dates, group size, and goals, and we will confirm details and follow up quickly by email or WhatsApp." name="twitter:description"/>
<meta content="https://mindobirdwatching.com/MBW-Assets-OG-Image.jpg" name="twitter:image"/>
<link href="/favicon.ico" rel="icon" sizes="any"/>
<link href="/favicon.svg" rel="icon" type="image/svg+xml"/>
<link href="/apple-touch-icon.png" rel="apple-touch-icon"/>
<link href="/site.webmanifest" rel="manifest"/>
<meta content="#034EA2" name="theme-color"/>
<link href="/assets/css/site.css" rel="stylesheet">
<link href="/assets/css/header.css" rel="stylesheet">
<link href="/assets/css/footer.css" rel="stylesheet">
<script defer="" src="/assets/js/head.js"></script>
<style>
    /* Page-only styles (main content only) */
    .page{ margin-top:18px; padding:26px; }
    .page.card{
      background: var(--card);
      border: 1px solid var(--line);
      border-radius: var(--r);
      box-shadow: var(--shadow);
    }

    .layout{
      display:grid;
      grid-template-columns: 1.05fr .95fr;
      gap: 16px;
      align-items: stretch;
    }

    .leftStack{
      display:grid;
      gap: 18px;
      align-content:start;
      min-width:0;
    }

    .rightStack{ display:flex; flex-direction:column; gap:14px; align-self:stretch; height:100%; }

    .heroLeft{
      display:grid;
      gap: 12px;
      align-content:start;
      justify-items:stretch;
      min-width: 0;
    }
    .heroLeft > *{ min-width: 0; }

    h1{ margin:0 0 10px; letter-spacing:-0.02em; }

    .lede{
      margin:0;
      max-width: 92ch;
      color: var(--ink);
      line-height: 1.65;
    }

    .metaCard{
      border: 1px solid var(--line);
      border-radius: var(--r);
      background: rgba(255,255,255,.65);
      box-shadow: var(--shadow);
      padding: 14px;
      display:grid;
      gap: 10px;
    }

    .chips{
      display:flex;
      flex-wrap: wrap;
      gap: 8px;
      align-items:center;
    }

    .chip{
      display:inline-flex;
      align-items:center;
      padding: 7px 10px;
      border-radius: 999px;
      border: 1px solid var(--line);
      background: rgba(255,255,255,.55);
      font-weight: 900;
      color: var(--ink);
      font-size: 12.5px;
      line-height: 1;
      white-space: nowrap;
    }

    .note{
      margin:0;
      color: var(--muted);
      font-size: 13px;
      line-height: 1.55;
    }

    .heroRight{
      display:grid;
      gap: 12px;
      align-content:start;
      min-width: 0;
    }

    .heroImageCard{
      border: 1px solid var(--line);
      border-radius: var(--r);
      background: rgba(255,255,255,.65);
      box-shadow: var(--shadow);
      overflow:hidden;
    }

    .heroImageFrame{
      width:100%;
      aspect-ratio: 4 / 3;
      background: rgba(255,255,255,.55);
    }

    .heroImageFrame img{
      width:100%;
      height:100%;
      display:block;
      object-fit: cover;
      object-position: center;
      background: rgba(255,255,255,.55);
    }

    .heroImageBar{
      padding: 12px 14px;
      border-top: 1px solid var(--line);
      background: rgba(255,255,255,.55);
      display:flex;
      justify-content:space-between;
      gap: 10px;
      flex-wrap:wrap;
      align-items:center;
    }

    .heroImageTitle{
      margin:0;
      font-weight: 900;
      color: var(--ink);
      font-size: 13.5px;
      letter-spacing: -0.01em;
    }

    .heroImageTag{
      display:inline-flex;
      align-items:center;
      padding: 7px 10px;
      border-radius: 999px;
      border: 1px solid var(--line);
      background: rgba(255,255,255,.55);
      font-weight: 900;
      color: var(--ink);
      font-size: 12.5px;
      line-height: 1;
      white-space: nowrap;
    }

    .heroActions{
      border: 1px solid var(--line);
      border-radius: var(--r);
      background: rgba(255,255,255,.65);
      box-shadow: var(--shadow);
      padding: 14px;
      display:grid;
      gap: 10px;
    }

    .heroActions .quickRow{
      display:flex;
      gap: 10px;
      align-items:center;
      flex-wrap: wrap;
    }

    .heroActions .btn{
      min-height:46px;
      display:inline-flex;
      align-items:center;
      justify-content:center;
      white-space: nowrap;
    }

    .iconBtn{
      width: 46px;
      height: 46px;
      display:inline-flex;
      align-items:center;
      justify-content:center;
      border-radius: 14px;
      border: 1px solid var(--line);
      background: rgba(255,255,255,.55);
      box-shadow: var(--shadow);
      cursor: pointer;
      padding: 0;
    }
    .iconBtn svg{ width: 18px; height: 18px; fill: var(--ink); opacity: .9; }

    .toast{
      display:none;
      margin-top: 8px;
      padding: 10px 12px;
      border-radius: 14px;
      border: 1px solid rgba(3,78,162,.22);
      background: rgba(3,78,162,.10);
      color: var(--ink);
      font-weight: 900;
      font-size: 12.5px;
      line-height: 1.35;
    }

    .glance{
      border: 1px solid var(--line);
      border-radius: var(--r);
      background: rgba(255,255,255,.65);
      box-shadow: var(--shadow);
      padding: 14px;
      display:grid;
      gap: 10px;
    }

    .glanceGrid{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: 10px;
      align-items:start;
    }

    .glanceItem{
      border: 1px solid var(--line);
      border-radius: 14px;
      background: rgba(255,255,255,.55);
      padding: 10px 12px;
      display:grid;
      gap: 4px;
      min-width: 0;
    }

    .glanceK{
      font-weight: 950;
      color: var(--ink);
      font-size: 12.5px;
      letter-spacing: -0.01em;
      line-height: 1.15;
    }

    .glanceV{
      color: var(--ink);
      opacity: .95;
      font-size: 13px;
      line-height: 1.35;
    }

    .section{
      padding-top: 14px;
      border-top: 1px solid var(--line);
    }

    .sectionHead{
      display:flex;
      align-items:flex-end;
      justify-content:space-between;
      gap: 12px;
      flex-wrap: wrap;
      margin-bottom: 10px;
    }

    .sectionHead h2{
      margin:0;
      font-family: var(--font-head);
      color: var(--forest);
      letter-spacing:-0.02em;
      font-size: 20px;
    }

    .cardBox{
      border: 1px solid var(--line);
      border-radius: var(--r);
      background: rgba(255,255,255,.65);
      box-shadow: var(--shadow);
      padding: 14px;
    }

    .form{
      display:grid;
      gap: 10px;
      margin-top: 10px;
    }

    .row2{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: 10px;
      align-items:start;
    }

    .rowPhone{
      display:grid;
      grid-template-columns: 120px 1fr;
      gap: 10px;
      align-items:end;
    }

    label{
      display:grid;
      gap: 6px;
      font-weight: 900;
      font-size: 13px;
      color: var(--ink);
      min-width: 0;
      width: 100%;
    }

    .labelText{
      display:inline-flex;
      align-items:baseline;
      gap: 2px;
      line-height: 1.1;
    }

    .req{
      color: rgba(160,0,0,.85);
      font-weight: 950;
      margin-left: 0;
    }

    input, select, textarea{
      width: 100%;
      max-width: 100%;
      border-radius: 14px;
      border: 1px solid var(--line);
      background: rgba(255,255,255,.70);
      box-shadow: 0 10px 25px rgba(0,0,0,.06);
      padding: 12px 12px;
      font: inherit;
      color: var(--ink);
      outline: none;
      box-sizing: border-box;
      min-width: 0;
      display: block;
    }

    input, select{
      height: 46px;
      line-height: 46px;
      padding-top: 0;
      padding-bottom: 0;
    }

    textarea{
      min-height: 120px;
      resize: vertical;
      padding: 12px 12px;
      line-height: 1.5;
      height: auto;
    }

    .help{
      margin: 0;
      color: var(--muted);
      font-size: 12.5px;
      line-height: 1.5;
    }

    .success{
      display:none;
      padding: 12px 14px;
      border-radius: 14px;
      border: 1px solid rgba(13,89,37,.25);
      background: rgba(13,89,37,.10);
      color: var(--ink);
      font-weight: 900;
      margin-top: 10px;
    }

    .errorMsg{
      display:none;
      padding: 12px 14px;
      border-radius: 14px;
      border: 1px solid rgba(160,0,0,.22);
      background: rgba(160,0,0,.08);
      color: var(--ink);
      font-weight: 900;
      margin-top: 10px;
      font-size: 12.5px;
      line-height: 1.35;
    }

    .rowDatesGuests{
      grid-template-columns: minmax(0, 1fr) 132px;
      align-items:start;
      column-gap: 10px;
    }
    .rowDatesGuests > label{ min-width: 0; }

    .rowDatesGuests .guestsLabel{
      width: 100%;
      min-width: 0;
      justify-self: end;
      align-content: start;
    }
    .rowDatesGuests .guestsLabel .labelText{ white-space: nowrap; }
    .rowDatesGuests .guestsLabel select{
      width: 100%;
      min-width: 0;
      padding-left: 12px;
      padding-right: 34px;
    }

    .dateRange{
      display:grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 10px;
      align-items:start;
      width: 100%;
      min-width: 0;
      max-width: 100%;
    }
    .dateRange, .dateRange *{ max-width: 100%; }

    .dateRange > input{
      width: 100%;
      min-width: 176px;
      min-inline-size: 0;
    }

    input[type="date"]{
      width: 100%;
      max-width: 100%;
      min-inline-size: 0;
      display: block;
      box-sizing: border-box;
      -webkit-appearance: none;
      appearance: none;
      background-clip: padding-box;
      padding-right: 32px;
    }

    .dateHint{
      margin: 0;
      color: var(--muted);
      font-size: 12.5px;
      line-height: 1.5;
    }

    .ctaActions{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: 10px;
      margin-top: 12px;
      align-items: stretch;
    }

    .ctaActions .btn,
    .ctaActions button.btn{
      width: 100%;
      justify-content: center;
      font-size: 14px;
      font-weight: 900;
      line-height: 1;
      padding-top: 14px;
      padding-bottom: 14px;
      min-height: 46px;
    }

    .btn[disabled]{
      opacity: .65;
      cursor: not-allowed;
      transform: none !important;
    }

    

    .heroBottomPhoto{
      flex: 1 1 auto;
      min-height: 220px;
      border: 1px solid rgba(17,24,39,.10);
      border-radius: 18px;
      overflow: hidden;
      background: #fff;
      box-shadow: 0 10px 26px rgba(17,24,39,.08);
    }
    .heroBottomPhoto img{
      width: 100%;
      height: 100%;
      display: block;
      object-fit: cover;
      object-position: center;
    }

@media (max-width: 980px){
      .layout{ grid-template-columns: 1fr; 
      .rightStack{ height:auto; }
}
      .row2{ grid-template-columns: 1fr; }
      .rowDatesGuests{ grid-template-columns: 1fr; }
      .rowPhone{ grid-template-columns: 120px 1fr; }
      .ctaActions{ grid-template-columns: 1fr; }
      .dateRange{ grid-template-columns: 1fr; }
      .dateRange > input{ min-width: 0; }
      .rowDatesGuests .guestsLabel{ width: 100%; justify-self: stretch; }
      .rowDatesGuests .guestsLabel select{ width: 100%; min-width: 0; }
      .rowDatesGuests .guestsLabel .labelText{ white-space: normal; }
      .glanceGrid{ grid-template-columns: 1fr; }
    }

    @media (max-width: 640px){
      .page{ margin-top:14px; padding:16px; }
      .metaCard, .glance, .heroActions{ padding: 12px; }
      .heroImageBar{ padding: 10px 12px; }
      .heroActions .btn{ width:100%; }
      .heroActions .quickRow{ gap: 10px; }
      .heroActions .quickRow .btn{ flex: 1 1 auto; }
      .iconBtn{ width:46px; height:46px; }
    }

    @media (max-width: 420px){
      .rowPhone{ grid-template-columns: 1fr; }
    }
  </style>
</link></link></link></head>
<body>
<div class="container">
<div id="siteHeader"></div>
<main class="page card">
<div aria-label="Book a tour layout grid" class="layout">
<div aria-label="Left content stack" class="leftStack">
<section aria-label="Book a tour intro" class="heroLeft">
<h1>Book a Tour</h1>
<p class="lede">
          Share your dates, group size, and goals. We will confirm details and follow up quickly.
        </p>
<div aria-label="Booking metadata" class="metaCard">
<div class="chips">
<span class="chip">Mindo, Ecuador</span>
<span class="chip">Email or WhatsApp reply</span>
<span class="chip">Private and custom options</span>
</div>
<p class="note">Fields marked with <span class="req">*</span> are required.</p>
</div>
<div aria-label="At a glance" class="glance">
<div aria-label="At a glance chips" class="chips">
<span class="chip">At a glance</span>
<span class="chip">2 to 3 minutes</span>
<span class="chip">No payment required</span>
</div>
<div aria-label="At a glance grid" class="glanceGrid">
<div class="glanceItem">
<div class="glanceK">Best to include</div>
<div class="glanceV">Target birds, pace, and photo priority.</div>
</div>
<div class="glanceItem">
<div class="glanceK">Dates</div>
<div class="glanceV">Start date is enough, end date is optional.</div>
</div>
<div class="glanceItem">
<div class="glanceK">Group size</div>
<div class="glanceV">Helps us match guide time and logistics.</div>
</div>
<div class="glanceItem">
<div class="glanceK">Follow up</div>
<div class="glanceV">We confirm availability and the best plan for your goals.</div>
</div>
</div>
</div>
</section>
<section aria-label="Book tour form" class="section" id="request-form">
<div class="sectionHead">
<h2>Request Your Tour</h2>
<p class="note">We will reply with availability, timing, and next steps.</p>
</div>
<div class="cardBox">
<iframe aria-hidden="true" id="mbwHiddenFrame" name="mbwHiddenFrame" style="position:absolute; left:-9999px; width:1px; height:1px; border:0;" tabindex="-1"></iframe>
<form action="/api/book-tour" class="form" id="bookTourForm" method="post" target="mbwHiddenFrame">
<div class="row2">
<label>
<span class="labelText">First Name<span class="req">*</span></span>
<input autocapitalize="words" autocomplete="given-name" autocorrect="off" id="firstName" name="first_name" placeholder="First name" required="" spellcheck="false" type="text"/>
</label>
<label>
<span class="labelText">Last Name<span class="req">*</span></span>
<input autocapitalize="words" autocomplete="family-name" autocorrect="off" id="lastName" name="last_name" placeholder="Last name" required="" spellcheck="false" type="text"/>
</label>
</div>
<div class="row2">
<label>
<span class="labelText">Email<span class="req">*</span></span>
<input autocomplete="email" name="email" placeholder="you@example.com" required="" type="email"/>
</label>
<label>
<span class="labelText">How Did You Hear About Us?</span>
<input name="how_did_you_hear_about_us" placeholder="Google, Instagram, friend, hotel, etc." type="text"/>
</label>
</div>
<div class="rowPhone">
<label>
<span class="labelText">Country Code<span class="req">*</span></span>
<input inputmode="numeric" name="country_code" pattern="[0-9]{1,4}" placeholder="1" required="" type="text" value="1"/>
</label>
<label>
<span class="labelText">Phone / WhatsApp Number<span class="req">*</span></span>
<input autocomplete="tel" inputmode="tel" name="phone_number" placeholder="123 456 7890" required="" type="tel"/>
</label>
</div>
<label>
<span class="labelText">Message / Questions<span class="req">*</span></span>
<textarea name="message_questions" placeholder="Share your goals: target birds, photography, pace, private guide, and any timing notes." required=""></textarea>
</label>
<div class="row2 rowDatesGuests">
<label>
<span class="labelText">Dates of Visit</span>
<div class="dateRange">
<input autocomplete="off" id="dateStart" type="date"/>
<input autocomplete="off" id="dateEnd" type="date"/>
</div>
<p class="dateHint">Select a start date and an optional end date.</p>
<input id="datesCombined" name="dates_of_visit" type="hidden" value=""/>
</label>
<label class="guestsLabel">
<span class="labelText">Number of Guests</span>
<select name="number_of_guests">
<option value="">Select</option>
<option>1</option>
<option>2</option>
<option>3 to 4</option>
<option>5 to 8</option>
<option>9+</option>
</select>
</label>
</div>
<label>
<span class="labelText">Preferred Tour Type</span>
<select name="preferred_tour_type">
<option value="">Select</option>
<option>Half-Day Tour</option>
<option>Full-Day Tour</option>
<option>Custom / Private Tour</option>
<option>Not Sure Yet</option>
</select>
</label>
<label>
<span class="labelText">Accommodation Needs</span>
<input name="accommodation_needs" placeholder="Optional (hotel name, pickup notes, etc.)" type="text"/>
</label>
<label>
<span class="labelText">Special Interests</span>
<input name="special_interests" placeholder="Photography, hummingbirds, tanagers, night walk, etc." type="text"/>
</label>
<input id="sourcePage" name="source_page" type="hidden" value=""/>
<input id="uaField" name="user_agent" type="hidden" value=""/>
<!-- Cloudflare Turnstile -->
<div class="cf-turnstile" data-sitekey="0x4AAAAAACYIFF7ZNXiqieGk"></div>
<div aria-hidden="true" style="position:absolute; left:-9999px; width:1px; height:1px; overflow:hidden;">
<label>Website <input autocomplete="off" name="website" tabindex="-1" type="text"/></label>
</div>
<input id="tsStart" name="ts_start" type="hidden" value=""/>
<script>
              (function(){
                var el = document.getElementById("tsStart");
                if (el) el.value = String(Date.now());
              })();
            </script>
<p class="help">
              After you submit, you will receive an email confirmation. If you do not see it, check Spam or Promotions.
            </p>
<div class="ctaActions">
<button class="btn primary" id="submitBtn" type="submit">Send Request</button>
<a class="btn secondary" href="/tours/">View Tours</a>
</div>
<div class="success" id="formSuccessMsg">Your request has been sent. We will email you a confirmation shortly.</div>
<div class="errorMsg" id="formErrorMsg">Something went wrong. Please try again, or email us at mindobirdwatching@gmail.com.</div>
</form>
</div>
</section>
</div>
<aside aria-label="Right content stack" class="rightStack">
<div aria-label="Hero image and actions" class="heroRight">
<div aria-label="Tour booking image" class="heroImageCard">
<div class="heroImageFrame">
<img alt="Birdwatching in Mindo cloud forest with a guide" decoding="async" loading="lazy" src="/assets/images/pages/tours/MBW-Tours-Custom-Tour.jpg"/>
</div>
<div class="heroImageBar">
<p class="heroImageTitle">Book a Tour</p>
<span class="heroImageTag">4:3 Photo</span>
</div>
</div>
<div aria-label="Quick actions" class="heroActions">
<div aria-label="Primary actions" class="quickRow">
<a class="btn primary" href="#request-form">Send Request</a>
<a class="btn secondary" href="/tours/">View Tours</a>
</div>
<div class="sectionHead" style="margin:4px 0 0; padding:0; border:0;">
<p class="note" style="margin:0;">Prefer direct contact? Use email or WhatsApp.</p>
</div>
<div aria-label="Email actions" class="quickRow">
<a class="btn ghost" href="mailto:mindobirdwatching@gmail.com?subject=Book%20a%20Tour%20Request%20-%20Mindo%20Bird%20Watching" id="emailBtn">Email Us</a>
<button aria-label="Copy email address" class="iconBtn" id="copyEmailBtn" type="button">
<svg aria-hidden="true" viewbox="0 0 24 24">
<path d="M16 1H6a2 2 0 0 0-2 2v12h2V3h10V1zm3 4H10a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h9a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2zm0 16h-9V7h9v14z"></path>
</svg>
</button>
</div>
<div class="toast" id="copyToast">Copied: mindobirdwatching@gmail.com</div>
<a class="btn secondary" href="https://wa.me/13054585402" rel="noopener noreferrer" target="_blank">Message on WhatsApp</a>
</div>
</div>
<div aria-label="What helps us reply faster" class="cardBox">
<h3 style="margin:0 0 8px; font-family:var(--font-head); color:var(--forest); letter-spacing:-0.02em;">What helps us reply faster</h3>
<ul style="margin:0; padding-left:18px; line-height:1.7; color:var(--ink);">
<li>Target species (if any)</li>
<li>Photography priority vs. bird list priority</li>
<li>Preferred pace (relaxed vs. intensive)</li>
<li>Private guide request (yes or no)</li>
<li>Any mobility or timing constraints</li>
</ul>
<p class="note" style="margin-top:10px;">
          Share what you know now. We can refine details after we confirm availability.
        </p>
</div>
<div aria-label="Tour highlight photo" class="heroBottomPhoto"><img alt="Toucan in the cloud forest" decoding="async" loading="lazy" src="/assets/images/pages/mbw_assets_pages_about_us_08.jpg"/></div></aside>
</div>
</main>
<div id="siteFooter"></div>
</div>
<script async="" defer="" src="https://challenges.cloudflare.com/turnstile/v0/api.js"></script>
<script>
    (function(){
      var ua = document.getElementById("uaField");
      if(ua) ua.value = navigator.userAgent || "";

      var sp = document.getElementById("sourcePage");
      if(sp) sp.value = window.location.href;

      function trackGA(eventName, params){
        try{
          if(typeof window.gtag === "function"){
            window.gtag("event", eventName, params || {});
            return true;
          }
        }catch(e){}
        return false;
      }

      function titleCaseWords(str){
        return String(str || "")
          .trim()
          .replace(/\s+/g, " ")
          .split(" ")
          .map(function(w){
            if(!w) return "";
            var lower = w.toLowerCase();
            return lower.charAt(0).toUpperCase() + lower.slice(1);
          })
          .join(" ");
      }

      function attachNameAutoCap(id){
        var el = document.getElementById(id);
        if(!el) return;
        el.addEventListener("blur", function(){
          el.value = titleCaseWords(el.value);
        });
      }
      attachNameAutoCap("firstName");
      attachNameAutoCap("lastName");

      function combineDates(){
        var s = document.getElementById("dateStart");
        var e = document.getElementById("dateEnd");
        var out = document.getElementById("datesCombined");
        if(!out) return;

        var start = (s && s.value) ? s.value : "";
        var end = (e && e.value) ? e.value : "";

        if(start && end) out.value = start + " to " + end;
        else if(start) out.value = start;
        else out.value = "";
      }
      var ds = document.getElementById("dateStart");
      var de = document.getElementById("dateEnd");
      if(ds) ds.addEventListener("change", combineDates);
      if(de) de.addEventListener("change", combineDates);
      combineDates();

      var copyBtn = document.getElementById("copyEmailBtn");
      var toast = document.getElementById("copyToast");
      var email = "mindobirdwatching@gmail.com";
      function showToast(){
        if(!toast) return;
        toast.style.display = "block";
        clearTimeout(window.__mbwCopyT);
        window.__mbwCopyT = setTimeout(function(){
          toast.style.display = "none";
        }, 1800);
      }
      if(copyBtn){
        copyBtn.addEventListener("click", function(){
          try{
            if(navigator.clipboard && navigator.clipboard.writeText){
              navigator.clipboard.writeText(email).then(showToast).catch(function(){});
              return;
            }
          }catch(e){}
          try{
            var ta = document.createElement("textarea");
            ta.value = email;
            ta.setAttribute("readonly", "readonly");
            ta.style.position = "absolute";
            ta.style.left = "-9999px";
            document.body.appendChild(ta);
            ta.select();
            document.execCommand("copy");
            document.body.removeChild(ta);
            showToast();
          }catch(e){}
        });
      }

      var form = document.getElementById("bookTourForm");
      var successEl = document.getElementById("formSuccessMsg");
      var errorEl = document.getElementById("formErrorMsg");
      var submitBtn = document.getElementById("submitBtn");
      var iframe = document.getElementById("mbwHiddenFrame");

      var pending = false;
      var done = false;
      var fallbackTimer = null;

      function hideMsgs(){
        if(successEl) successEl.style.display = "none";
        if(errorEl) errorEl.style.display = "none";
      }

      function setBtnSending(isSending){
        if(!submitBtn) return;
        if(isSending){
          submitBtn.setAttribute("disabled", "disabled");
          submitBtn.textContent = "Sending...";
        }else{
          submitBtn.removeAttribute("disabled");
          submitBtn.textContent = "Send Request";
        }
      }

      function completeOk(){
        if(done) return;
        done = true;
        pending = false;
        if(fallbackTimer) clearTimeout(fallbackTimer);
        setBtnSending(false);
        if(successEl) successEl.style.display = "block";
        if(errorEl) errorEl.style.display = "none";

        trackGA("request_tour_submit_en", {
          form_id: "bookTourForm",
          form_name: "request_tour",
          page_path: window.location.pathname || "/book-tour/",
          page_location: window.location.href
        });

        try{
          form.reset();
          if(ds) ds.value = "";
          if(de) de.value = "";
          combineDates();
          if(ua) ua.value = navigator.userAgent || "";
          if(sp) sp.value = window.location.href;
        }catch(e){}
      }

      function completeError(msg){
        if(done) return;
        done = true;
        pending = false;
        if(fallbackTimer) clearTimeout(fallbackTimer);
        setBtnSending(false);
        if(errorEl){
          errorEl.textContent = msg || "Something went wrong. Please try again, or email us at mindobirdwatching@gmail.com.";
          errorEl.style.display = "block";
        }
        if(successEl) successEl.style.display = "none";
      }

      hideMsgs();

      if(form){
        form.addEventListener("submit", function(){
          hideMsgs();
          done = false;
          pending = true;

        // If no postMessage arrives, do not assume success
        window.setTimeout(function(){
          if (pending && !done){
            completeErr("Submission did not complete. Please try again. If this continues, email mindobirdwatching@gmail.com.");
          }
        }, 10000);
          setBtnSending(true);

          if(fallbackTimer) clearTimeout(fallbackTimer);
          fallbackTimer = setTimeout(function(){
            if(!done){
              completeError("Still waiting. Please try again, or email us at mindobirdwatching@gmail.com.");
            }
          }, 12000);
        });
      }

      if(iframe){
        /* iframe load fallback disabled: success requires postMessage */
}

      window.addEventListener("message", function(ev){
        var data = ev && ev.data ? ev.data : null;
        if(!data) return;

        if(data.type === "mbw-booktour" && data.status === "ok"){
          completeOk();
          return;
        }
        if(data.type === "mbw-booktour" && data.status === "error"){
          completeError(data.message ? (data.message) : null);
        }
      });
    })();
  </script>
<script defer="" src="/assets/js/includes.js?v=1"></script>
<script defer="" src="/assets/js/site.js?v=1"></script>
</body>
</html>
