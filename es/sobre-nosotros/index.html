<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Sobre nosotros | Mindo Bird Watching</title>

  <meta name="robots" content="noindex, nofollow" />

  <link rel="alternate" hreflang="en" href="/about-us/" />
  <link rel="alternate" hreflang="es" href="/es/sobre-nosotros/" />
  <link rel="alternate" hreflang="x-default" href="/about-us/" />

  <link rel="stylesheet" href="/assets/css/site.css">
  <script src="/assets/js/head.js" defer></script>
  <script src="/assets/js/site.js" defer></script>

  <style>
    /* ===== Header component styles (required for global header include to behave like /home/) ===== */
    .topbar{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:16px;
      padding:14px 16px;
      border:1px solid var(--line);
      border-radius:var(--r);
      background:rgba(255,255,255,.65);
      backdrop-filter: blur(10px);
      box-shadow: var(--shadow);
      position: relative;
    }

    .brand{
      display:flex;
      align-items:center;
      gap:12px;
      font-weight:900;
      color: var(--ink);
      white-space:nowrap;
      min-width: 0;
    }

    .brand img{
      height:26px;
      width:auto;
      display:block;
      flex:0 0 auto;
      border-radius: 8px;
    }

    .right{
      display:flex;
      align-items:center;
      gap:12px;
      flex-wrap:wrap;
      justify-content:flex-end;
    }

    .nav{
      display:flex;
      flex-wrap:wrap;
      gap:12px;
      align-items:center;
      justify-content:flex-end;
    }

    .lang{
      display:inline-flex;
      align-items:center;
      gap:6px;
      padding:6px;
      border:1px solid var(--line);
      border-radius:999px;
      background:rgba(255,255,255,.5);
    }
    .lang a{
      padding:8px 10px;
      border-radius:999px;
      font-weight:800;
      font-size:12.5px;
      color:var(--muted);
    }
    .lang a.active{
      background:rgba(13,89,37,.14);
      border:1px solid rgba(13,89,37,.35);
      color:var(--ink);
    }

    .menuBtn{
      display:none;
      align-items:center;
      justify-content:center;
      width:44px;
      height:44px;
      border-radius:14px;
      border:1px solid var(--line);
      background:rgba(255,255,255,.65);
      cursor:pointer;
    }
    .menuBtn svg{ width:22px; height:22px; }

    .menuPanel{
      display:none;
      position:absolute;
      right:12px;
      top: calc(100% + 10px);
      width: min(320px, calc(100vw - 24px));
      background: rgba(255,255,255,.92);
      border: 1px solid var(--line);
      border-radius: 18px;
      box-shadow: var(--shadow);
      padding: 12px;
      z-index: 50;
    }
    .menuPanel.is-open{ display:block; }

    .menuPanel .lang{
      width:100%;
      justify-content:center;
      margin-bottom: 10px;
      background: rgba(255,255,255,.75);
    }

    .menuList{
      display:grid;
      gap:10px;
    }
    .menuList a.pill{
      display:flex;
      justify-content:center;
      width:100%;
    }

    @media (max-width: 900px){
      .right .lang,
      .right .nav{ display:none; }
      .menuBtn{ display:inline-flex; }
      .menuPanel{ display:none; }
      .menuPanel.is-open{ display:block; }
    }

    /* ===== Page styles ===== */
    .page{ margin-top:18px; padding:26px; }
    .page.card{
      background: var(--card);
      border: 1px solid var(--line);
      border-radius: var(--r);
      box-shadow: var(--shadow);
    }

    .copy{ max-width: 82ch; margin-top: 8px; }
    .copy p{ margin: 0 0 12px; }

    .grid{
      margin-top: 16px;
      display:grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 14px;
    }

    .mini{
      padding: 16px;
      border: 1px solid var(--line);
      border-radius: var(--r);
      background: rgba(255,255,255,.65);
    }

    .mini h2{
      margin:0 0 6px;
      font-size: 16px;
      font-family: var(--font-head);
      color: var(--forest);
      letter-spacing: -0.02em;
    }

    .mini p{ margin:0; }

    .ctaRow{
      margin-top: 16px;
      display:flex;
      gap: 12px;
      flex-wrap: wrap;
    }

    @media (max-width: 900px){
      .grid{ grid-template-columns: 1fr; }
    }
  </style>
</head>

<body>
  <div class="container">

    <!-- Global header mount -->
    <div id="siteHeader"></div>

    <main class="page card">
      <h1>Sobre nosotros</h1>

      <div class="copy" aria-label="Sobre nosotros texto">
        <p>
          En Mindo Bird Watching, nos apasiona compartir la impresionante belleza del bosque nublado de Ecuador y su increíble avifauna.
          Con años de experiencia como guía de avistamiento de aves, me especializo en ayudar a los visitantes a descubrir el vibrante mundo de tucanes,
          colibríes, tangaras y muchas otras especies que habitan en Mindo.
        </p>
        <p>
          Nuestros tours están diseñados para ofrecer una experiencia única e inmersiva, ya sea que seas un observador de aves experimentado o un entusiasta
          de la naturaleza que visita por primera vez. Con una guía experta, atención personalizada y acceso a algunos de los mejores lugares para avistar aves
          en la región, garantizamos que cada momento sea inolvidable.
        </p>
        <p>
          Únete a nosotros para explorar las maravillas de Mindo y crear recuerdos rodeados por los cantos y colores de la naturaleza.
        </p>
      </div>

      <div class="grid" aria-label="Puntos clave">
        <div class="mini">
          <h2>Guía local</h2>
          <p>Años de experiencia guiando birders en el bosque nublado de Mindo.</p>
        </div>

        <div class="mini">
          <h2>Tours personalizados</h2>
          <p>Ideal tanto para birders expertos como para quienes visitan por primera vez.</p>
        </div>

        <div class="mini">
          <h2>Mejores rutas</h2>
          <p>Acceso a hábitats y puntos fuertes de observación en la zona.</p>
        </div>
      </div>

      <div class="ctaRow">
        <a class="btn primary" href="/book-tour/">Reservar un tour</a>
        <a class="btn secondary" href="/tours/">Ver tours</a>
      </div>
    </main>

    <!-- Global footer mount -->
    <div id="siteFooter"></div>
  </div>

  <script>
    (function(){
      async function mountIncludes() {
        const headerMount = document.getElementById('siteHeader');
        const footerMount = document.getElementById('siteFooter');

        if (headerMount && !headerMount.querySelector('header.topbar')) {
          const hRes = await fetch('/assets/includes/header.html', { cache: 'no-store' });
          headerMount.innerHTML = await hRes.text();
        }

        if (footerMount && !footerMount.querySelector('footer.footer')) {
          const fRes = await fetch('/assets/includes/footer.html', { cache: 'no-store' });
          footerMount.innerHTML = await fRes.text();
        }
      }

      function localizeHeaderToSpanish() {
        const header = document.querySelector('header.topbar');
        if (!header) return;

        // Language switch: ES active on this page
        const allLang = header.querySelectorAll('.lang a[data-lang]');
        allLang.forEach(a => {
          a.classList.remove('active');
          a.removeAttribute('aria-current');
        });

        const en = header.querySelector('.lang a[data-lang="en"]');
        const es = header.querySelector('.lang a[data-lang="es"]');
        if (en) en.setAttribute('href', '/about-us/');
        if (es) {
          es.setAttribute('href', '/es/sobre-nosotros/');
          es.classList.add('active');
          es.setAttribute('aria-current', 'page');
        }

        // Translate + route both desktop + mobile nav
        const map = [
          { en: 'Home',         es: 'Inicio',         href: '/es/' },
          { en: 'About Us',     es: 'Sobre nosotros', href: '/es/sobre-nosotros/' },
          { en: 'Our Guide',    es: 'Nuestro guía',   href: '/es/nuestro-guia/' },
          { en: 'Tours',        es: 'Tours',          href: '/es/tours/' },
          { en: 'Bird Gallery', es: 'Galería',        href: '/es/galeria/' },
          { en: 'Book Tour',    es: 'Reservar',       href: '/es/reservar/' },
          { en: 'Contact',      es: 'Contacto',       href: '/es/contacto/' }
        ];

        const links = header.querySelectorAll('.nav a.pill, .menuList a.pill');
        links.forEach(a => {
          const txt = (a.textContent || '').trim();
          const hit = map.find(x => x.en === txt);
          if (hit) {
            a.textContent = hit.es;
            a.setAttribute('href', hit.href);
          }
          a.classList.remove('active');
          a.removeAttribute('aria-current');
        });

        // Active state
        const current = '/es/sobre-nosotros/';
        header.querySelectorAll(`.nav a.pill[href="${current}"], .menuList a.pill[href="${current}"]`)
          .forEach(a => {
            a.classList.add('active');
            a.setAttribute('aria-current', 'page');
          });
      }

      function bindHamburger() {
        const btn = document.querySelector('.menuBtn');
        const panel = document.getElementById('menuPanel');
        if (!btn || !panel) return;

        // Reset (prevents weird state if re-mounted)
        panel.classList.remove('is-open');
        btn.setAttribute('aria-expanded', 'false');

        function closeMenu(){
          panel.classList.remove('is-open');
          btn.setAttribute('aria-expanded', 'false');
        }

        btn.addEventListener('click', function(){
          const open = panel.classList.toggle('is-open');
          btn.setAttribute('aria-expanded', open ? 'true' : 'false');
        });

        document.addEventListener('click', function(e){
          if(panel.classList.contains('is-open')){
            const inside = panel.contains(e.target) || btn.contains(e.target);
            if(!inside) closeMenu();
          }
        });

        document.addEventListener('keydown', function(e){
          if(e.key === 'Escape') closeMenu();
        });
      }

      (async function init(){
        await mountIncludes();
        localizeHeaderToSpanish();
        bindHamburger();
      })();
    })();
  </script>
</body>
</html>
